<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-MC35ML');</script><script src="https://store.unity.com/themes/contrib/unity_base/js/unity-cdp.js"></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: PS Vita Tips for Maximizing Available Memory</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1528816934"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1528816934"></script><script type="text/javascript" src="docdata/toc.js?ts=1528816934"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1528816934"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1528816934">
<link rel="stylesheet" href="../StaticFilesManual/js/feedback/five-star-rating-master/css/rating.min.css">
<script src="../StaticFilesManual/js/feedback/five-star-rating-master/js/src/rating.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="PlatformSpecific" data-pagetype="normal"></div>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-number">Version: <b>2018.2b</b> (<a href="https://docs.unity3d.com/2018.1/Documentation/Manual">switch to 2018.1</a>)</div>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/PSVitaTipsForMaximizingAvailableMemory.html">English</a></li>
<li><a href="/ja/current/Manual/PSVitaTipsForMaximizingAvailableMemory.html">日本語</a></li>
<li><a href="/es/current/Manual/PSVitaTipsForMaximizingAvailableMemory.html">Español</a></li>
<li><a href="/kr/current/Manual/PSVitaTipsForMaximizingAvailableMemory.html">한국어</a></li>
<li><a href="/ru/current/Manual/PSVitaTipsForMaximizingAvailableMemory.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2018.2 beta)</a></li>
<li><a href="PlatformSpecific.html">Platform-specific</a></li>
<li><a href="psvita.html">PS Vita</a></li>
<li><a href="psvita-gettingstarted.html">PS Vita Getting Started</a></li>
<li>PS Vita Tips for Maximizing Available Memory</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="PSVitaBuilding.html"></a></span><div class="tip">PS Vita Building and Running</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="PSVitaDebuggingACrash.html"></a></span><div class="tip">PS Vita: Debugging a crash</div>
</div>
</div></div>
<div class="otherversionswrapper" onmouseover="setOtherVersionsDisplay(true)" onmouseout="setOtherVersionsDisplay(false)">
<a>Other Versions</a><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">Cannot access other versions offline!</div>
</div>
<div class="scrollToFeedback"><a id="scrollToFeedback">Leave feedback</a></div>
<h1>PS Vita Tips for Maximizing Available Memory</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<h3>Dev kit vs Test/Retail kit and Avoiding The Crunch-Time Blues</h3>

<p>The last thing you want to happen when you are about to submit your game is to suddenly find out that it doesn’t fit into memory on a retail PS Vita. A retail/test kit has roughly half the amount of memory that a dev-kit has. During development you should regularly switch your dev-kit to mimic retail memory to check that you are fitting in memory. To do this open the PS Vita target settings tool which is accessible from “Neighbourhood for Playstation®Vita”, go to the “Boot Parameters” section and change “Memory Size” to “Console Size”.</p>

<h3>Using the Physical Contiguous Memory Area</h3>

<p>The Vita has a 26MB area of specialised memory set aside for decoding FMV, if your game does not play FMV or only plays it once, i.e. during game boot up, then you can release this memory and make it available for general allocations. To do this call one of the following functions as soon as the game boots or after playing any intro FMV…</p>

<pre><code>UnityEngine.PSVita.PSVitaVideoPlayer.TransferMemToHeap()
</code></pre>

<p>This makes the 26MB of physical contiguous memory available for general heap allocations.</p>

<pre><code>UnityEngine.PSVita.PSVitaVideoPlayer.TransferMemToMonoHeap()
</code></pre>

<p>This makes the 26MB of physical contiguous memory available for general Mono heap allocations.</p>

<p>Note: You should only call one of these functions, and only call it once, after calling either of them it is no longer possible to play FMV.</p>

<h3>Making Better Use Of cdram (VRAM)</h3>

<p>By default all mesh data is allocated in main system memory and all available cdram is reserved for textures and render targets. If your game does not use all of cdram for textures and render targets then you can tell Unity to allocate mesh data in cdram, this is done from the editor, go to <code>Player Settings &amp;gt; Other Settings &amp;gt; Mesh Video Mem</code> and set it to the number of MB of VRAM that you would like to reserve for mesh data. Once this is setup mesh data will be allocated in cdram until the area set aside for mesh data becomes full, then allocations revert back to main system memory.</p>

<h3>Texture Size</h3>

<p>It is common practice to tell unity to half or quarter texture sizes for PS Vita especially in cross-platform games where higher resolution textures may be required on other platforms. Care must be taken as this option only has any effect when textures have mip-maps generated as scaling is achieved by skipping mip-levels.</p>

<p>Avoid using non-power of two (NPOT) sized textures where possible, if you do need to use NPOT textures make sure to use an un-compressed texture format. The PS Vita cannot render directly from an NPOT compressed texture so a copy is made into a larger power of two (POT) texture which is very wasteful of memory. If NPOT textures are required then it is more memory efficient to use an uncompressed format such as 16 bit RGBA.</p>

<h3>Mono Heap Behaviour</h3>

<p>It is possible to tweak the way the mono heap behaves, by default it grows by a percentage of the current size when it needs to reserve more memory from the system, typically this is ok but can be wasteful if your scripts allocate a lot of mono memory. You can use the following method to adjust this behaviour:</p>

<pre><code>UnityEngine.PSVita.Utility.SetMonoHeapBehaviours(bool constrain, bool tight)
</code></pre>

<ul>
<li><p>
<code>Setting tight = true</code> causes the heap to only grow by the exact amount needed.</p></li>
<li><p>
<code>Setting constrain = true</code> causes the heap to grow by a constant 8MB when it needs to reserve more memory but only if tight = false.</p></li>
</ul>

<p>NOTE that setting either of these to true can result in more frequent garbage collection so they may not be appropriate for your game, but they can be worth a try.</p>

<h3>Memory HUD</h3>

<p>Finally, there is a diagnostic HUD that you can turn on for development builds that displays low-level information on memory usage which you might find useful, just do the following in your scripts to enable the memory HUD.</p>

<pre><code>UnityEngine.PSVita.Diagnostics.enableHUD = true;
</code></pre>

<h3>Memory Expansion Mode</h3>

<p>The memory size of the main memory’s physical memory to be used by the application can be expanded by setting a Memory Mode. </p>

<p>Available modes include:</p>

<ul>
<li>29MiB - Only this app can be run.</li>
<li>77MiB - Only this app can be run, the internet browser cannot be used.</li>
<li>109MiB - Only this app can be run, the internet browser and title store cannot be used.</li>
</ul>

<p>The option for Memory Expansion Mode is available in the player settings in the Param File section.</p>

<p>This setting cannot be changed dynamically.</p>

<p>Detailed informaiton on Memory Expansion Mode can be found in the SDK documentation at <a href="https://psvita.scedev.net/docs/vita-en,Programming-Startup_Guide-vita,Resources_that_Can_Be_Used_by_an_Application/1/">https://psvita.scedev.net/docs/vita-en,Programming-Startup_Guide-vita,Resources_that_Can_Be_Used_by_an_Application/1/</a>
</p>
<div class="feedbackbox" id="feedbackbox">
<div id="rating"><p>Did you find this page useful? Please give it a rating:<br><div id="ratecontent" class="c-rating"></div>
</p></div>
<div id="ratingThanks" style="display:none"><p>Thanks for rating this page!</p></div>
<div id="problem"><p><a name="problem" onclick="document.getElementById('problemType').style.display = '';document.getElementById('problem').style.display = 'none';">Report a problem on this page</a></p></div>
<div id="problemType" style="display:none"><p>What kind of problem would you like to report?<ul type="problems">
<li><a name="needcode" onclick="                                                             document.getElementById('problemType').style.display = 'none';                                                             document.getElementById('problemThanks').style.display = '';                                                             SendFeedback('problem-needcode',window.location.href,0);                                                             document.getElementById('problemFormDescription').value='Needs code samples.';                                                             document.getElementById('problemNeedCodeForm').style.display = ''                                                         ">This page needs code samples</a></li>
<li><a name="code" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-brokencode',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Code samples do not work.';                                                         document.getElementById('problemCodeForm').style.display = ''                                                         ">Code samples do not work</a></li>
<li><a name="missing" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-missing',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Missing information';                                                         document.getElementById('problemMissingForm').style.display = ''                                                         ">Information is missing</a></li>
<li><a name="incorrect" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-incorrect',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Incorrect information';                                                         document.getElementById('problemIncorrectForm').style.display = ''                                                         ">Information is incorrect</a></li>
<li><a name="unclear" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-unclear',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Unclear or confusing information';                                                         document.getElementById('problemUnclearForm').style.display = ''                                                         ">Information is unclear or confusing</a></li>
<li><a name="language" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-language',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Spelling or grammar error';                                                         document.getElementById('problemLanguageForm').style.display = ''                                                         ">There is a spelling/grammar error on this page</a></li>
<li><a name="other" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-other',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='This page has a problem';                                                         document.getElementById('problemOtherForm').style.display = ''                                                         ">Something else</a></li>
</ul>
<p><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues></p>
</p></div>
<div id="problemThanks" style="display:none"><p>Thanks for letting us know! This page has been marked for review based on your feedback.<br><br>If you have time, you can provide more information to help us fix the problem faster.<br><br><a onclick="document.getElementById('problemMoreInfo').style.display = '';document.getElementById('problemThanks').style.display = 'none';">Provide more information</a><br>
</p></div>
<div id="problemMoreInfo" style="display:none">
<p id="problemNeedCodeForm" style="display:none">You've told us this page needs code samples. If you'd like to help us further, you could provide a code sample, or tell us about what kind of code sample you'd like to see:</p>
<p id="problemCodeForm" style="display:none">You've told us there are code samples on this page which don't work. If you know how to fix it, or have something better we could use instead, please let us know:</p>
<p id="problemMissingForm" style="display:none">You've told us there is information missing from this page. Please tell us more about what's missing:</p>
<p id="problemIncorrectForm" style="display:none">You've told us there is incorrect information on this page. If you know what we should change to make it correct, please tell us:</p>
<p id="problemUnclearForm" style="display:none">You've told us this page has unclear or confusing information. Please tell us more about what you found unclear or confusing, or let us know how we could make it clearer:</p>
<p id="problemLanguageForm" style="display:none">You've told us there is a spelling or grammar error on this page. Please tell us what's wrong:</p>
<p id="problemOtherForm" style="display:none">You've told us this page has a problem. Please tell us more about what's wrong:</p>
<form>
<textarea id="problemFormSuggestionField" cols="40" rows="5"></textarea><input type="hidden" id="problemFormDescription"><input type="submit" id="problemFormDescriptionSubmit" value="Submit" onclick="                                             document.getElementById('problemMoreInfo').style.display = 'none';                                             document.getElementById('problemMoreInfoThanks').style.display = '';                                             return false;                                             ">
</form>
</div>
<div id="problemMoreInfoThanks" style="display:none"><p>Thanks for helping to make the Unity documentation better!</p></div>
<script>

                                            var ratecontent = document.querySelector('#ratecontent'); // target element
                                            var currentRating = 0; // initial rating
                                            var maxRating= 5; // max rating

                                            // callback to run after setting the rating
                                            var callback = function(rating) {
                                                document.getElementById('ratingThanks').style.display = '';
                                                document.getElementById('ratecontent').style.display = 'none';
                                                document.getElementById('rating').style.display = 'none';
                                                SendFeedback("rating",window.location.href,rating);
                                            };

                                            // rating instance
                                            var myRating = rating(ratecontent, currentRating, maxRating, callback);
                                        </script>
</div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="PSVitaBuilding.html"></a></span><div class="tip">PS Vita Building and Running</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="PSVitaDebuggingACrash.html"></a></span><div class="tip">PS Vita: Debugging a crash</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2018 Unity Technologies. Publication: 2018.2b-002A. Built: 2018-04-04.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
